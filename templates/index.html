{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Party 2024 | LFC Teens Byazhin</title>
    <link rel="icon" href="{% static 'favicon.ico' %}" class="rounded-full">
    <script src="{% static 'tailwind.js' %}"></script>
    <script defer src="{% static 'alpine.js' %}"></script>
    <script src="{% static 'htmx.min.js' %}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Merriweather:wght@300;400;700;900&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --christmas-red: #B91C1C;
            --christmas-green: #0A5C36;
            --christmas-gold: #D4AF37;
            --christmas-cream: #FFF9F2;
            --light-snow: #F0F8FF;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--christmas-cream);
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.3) 1px, transparent 1px),
                radial-gradient(circle at 90% 40%, rgba(255, 255, 255, 0.3) 1px, transparent 1px);
            background-size: 30px 30px;
            pointer-events: none;
            z-index: 1;
        }
        
        .heading-font {
            font-family: 'Mountains of Christmas', cursive;
        }
        
        .serif-font {
            font-family: 'Merriweather', serif;
        }
        
        /* Snow Animation */
        .snowflake {
            position: fixed;
            top: -10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.8;
            z-index: 9999;
            filter: blur(0.5px);
        }
        
        /* Christmas Border */
        .christmas-border {
            position: relative;
            padding: 4px;
            background: linear-gradient(45deg, var(--christmas-green), var(--christmas-red), var(--christmas-gold), var(--christmas-green));
            background-size: 300% 300%;
            animation: gradientBorder 3s ease infinite;
        }
        
        @keyframes gradientBorder {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .christmas-border-inner {
            background: white;
            padding: 20px;
        }
        
        /* Santa Corner */
        .santa-corner {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 100px;
            height: 150px;
            z-index: 100;
            pointer-events: none;
        }
        
        .santa-corner img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(2px 2px 5px rgba(0,0,0,0.3));
        }
        
        /* Floating Elements */
        .floating-element {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        /* Gift Box Animation */
        .gift-box {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .gift-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .gift-box:hover::before {
            left: 100%;
        }
        
        .gift-box:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 30px rgba(185, 28, 28, 0.2);
        }
        
        /* Christmas Card */
        .christmas-card {
            background: linear-gradient(135deg, #ffffff 0%, #fff9f2 100%);
            border: 3px solid transparent;
            border-image: linear-gradient(45deg, var(--christmas-green), var(--christmas-red)) 1;
            position: relative;
        }
        
        .christmas-card::after {
            content: 'üéÑ';
            position: absolute;
            top: -15px;
            right: -15px;
            font-size: 24px;
            background: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        /* Snow Accumulation */
        .snow-accumulation {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: linear-gradient(to top, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 100%);
            pointer-events: none;
            z-index: 998;
        }
        
        /* Popup Styles */
        .christmas-popup {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 320px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            overflow: hidden;
            border: 3px solid var(--christmas-red);
            animation: slideInUp 0.5s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .popup-header {
            background: linear-gradient(135deg, var(--christmas-red), var(--christmas-green));
            color: white;
            padding: 15px;
            text-align: center;
            position: relative;
        }
        
        .popup-header::before {
            content: 'üéÖ';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .popup-header::after {
            content: 'üéÑ';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        /* Ticket Styling */
        .christmas-ticket {
            background: linear-gradient(135deg, var(--christmas-red) 0%, var(--christmas-gold) 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            border: 2px dashed white;
        }
        
        .christmas-ticket::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: repeating-linear-gradient(
                90deg,
                var(--christmas-green),
                var(--christmas-green) 10px,
                transparent 10px,
                transparent 20px
            );
        }
        
        .christmas-ticket::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: repeating-linear-gradient(
                90deg,
                var(--christmas-green),
                var(--christmas-green) 10px,
                transparent 10px,
                transparent 20px
            );
        }
        
        .price-tag {
            background: var(--christmas-gold);
            color: var(--christmas-green);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            display: inline-block;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Jingle Bell Audio Control */
        .bell-control {
            background: linear-gradient(135deg, var(--christmas-red), var(--christmas-gold));
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(185, 28, 28, 0.3);
            transition: all 0.3s ease;
            animation: ringBell 2s ease-in-out infinite;
        }
        
        @keyframes ringBell {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }
        
        .bell-control:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(185, 28, 28, 0.4);
        }
        
        /* Updated hero backgrounds for Christmas */
        {% if hero %}
            {% for slide in hero %}
                .hero-bg-{{forloop.counter}} {
                    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("{{slide.image.url}}") center/cover;
                }
            {% endfor %}
        {% endif %}
        
        .testimony-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("{% static 'images/persons (3).jpg' %}") center/cover;
        }

        .join-unit-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("{% static 'images/hero_img (2).jpg' %}") center/cover;
        }

        .about-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("{% static 'images/hero_img (1).jpg' %}") center/cover;
        }

        .counseling-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url("{% static 'images/persons (1).jpg' %}") center/cover;
        }
        
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--christmas-green) 0%, var(--christmas-red) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }
        
        .christmas-spinner {
            width: 60px;
            height: 60px;
            position: relative;
        }
        
        .christmas-spinner::before {
            content: 'üéÑ';
            position: absolute;
            font-size: 30px;
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .active-nav {
            color: var(--christmas-red);
            border-bottom: 2px solid var(--christmas-red);
            position: relative;
        }
        
        .active-nav::after {
            content: 'üéÅ';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        /* WhatsApp Float */
        .whatsapp-float {
            background: linear-gradient(135deg, #25D366, #128C7E);
        }
        
        /* Section Headers */
        .section-header {
            position: relative;
            display: inline-block;
            margin-bottom: 2rem;
        }
        
        .section-header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--christmas-green), var(--christmas-red), var(--christmas-gold));
            border-radius: 2px;
        }
    </style>
</head>
<body class="bg-christmas-cream text-gray-900 scroll-smooth" x-data="{ mobileMenuOpen: false, activeSection: 'home', showTicketPopup: false, showShilohPopup: false, showRandomPopup: false }">
    <!-- Snow Accumulation at Bottom -->
    <div class="snow-accumulation"></div>
    
    <!-- Santa Corner (Placeholder - you can add actual Santa image) -->
    <div class="santa-corner">
        <div class="bg-red-600 rounded-lg p-2 shadow-lg">
            <div class="bg-white p-4 rounded">
                <div class="text-center">
                    <div class="text-red-600 text-3xl mb-2">üéÖ</div>
                    <p class="text-xs font-bold text-red-600">Merry Christmas!</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Loading Screen -->
    <div x-data="{ loading: true }" x-init="setTimeout(() => loading = false, 2000)" x-show="loading" class="loading-screen" x-cloak>
        <div class="christmas-spinner"></div>
        <h2 class="heading-font text-3xl text-white mt-8">Christmas Party 2024</h2>
        <p class="mt-2 text-white/80 serif-font">Loading festive blessings...</p>
    </div>

    <!-- Jingle Bell Audio Control -->
    <div class="fixed bottom-150px right-20px z-100 floating-element">
        <button id="playPause" class="bell-control">
            <i class="fas fa-bell"></i>
        </button>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/2349013708170?text=Hello%20LFC%20Teens%20Christmas%20Party%2C%20I%20would%20like%20to%20get%20tickets" class="whatsapp-float" target="_blank" style="position: fixed; bottom: 20px; right: 20px; z-index: 100; background: #25D366; border-radius: 50px; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; color: white; font-size: 30px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease;">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Navigation -->
    <nav class="christmas-border sticky top-0 z-50">
        <div class="christmas-border-inner">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-gradient-to-br from-christmas-red to-christmas-gold rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg">
                            <i class="fas fa-tree"></i>
                        </div>
                        <span class="ml-3 heading-font text-xl font-semibold text-christmas-green">LFC Teens Christmas</span>
                    </div>
                    
                    <div class="hidden md:flex space-x-8">
                        <a href="#" class="font-medium pb-1 transition-colors flex items-center" :class="activeSection === 'home' ? 'active-nav text-christmas-red' : 'text-gray-600 hover:text-christmas-red'">
                            <i class="fas fa-home mr-2"></i>Home
                        </a>
                        <a href="#about-us-page" class="transition-colors pb-1 flex items-center" :class="activeSection === 'about' ? 'active-nav text-christmas-red' : 'text-gray-600 hover:text-christmas-red'">
                            <i class="fas fa-info-circle mr-2"></i>About
                        </a>
                        <a href="#testimonies-page" class="transition-colors pb-1 flex items-center" :class="activeSection === 'testimonies' ? 'active-nav text-christmas-red' : 'text-gray-600 hover:text-christmas-red'">
                            <i class="fas fa-star mr-2"></i>Testimonies
                        </a>
                        <a href="#announcement-page" class="transition-colors pb-1 flex items-center" :class="activeSection === 'announcements' ? 'active-nav text-christmas-red' : 'text-gray-600 hover:text-christmas-red'">
                            <i class="fas fa-bullhorn mr-2"></i>Announcements
                        </a>
                        <a href="#counseling-page" class="transition-colors pb-1 flex items-center" :class="activeSection === 'counseling' ? 'active-nav text-christmas-red' : 'text-gray-600 hover:text-christmas-red'">
                            <i class="fas fa-hands-praying mr-2"></i>Counseling
                        </a>
                        <a href="#join-unit-page" class="transition-colors pb-1 flex items-center" :class="activeSection === 'units' ? 'active-nav text-christmas-red' : 'text-gray-600 hover:text-christmas-red'">
                            <i class="fas fa-users mr-2"></i>Ministry
                        </a>
                        <button @click="showTicketPopup = true" class="bg-gradient-to-r from-christmas-red to-christmas-gold text-white px-6 py-2 rounded-full font-bold hover:scale-105 transition-transform shadow-lg">
                            <i class="fas fa-ticket-alt mr-2"></i>Get Ticket ‚Ç¶4,000
                        </button>
                    </div>
                    
                    <div class="md:hidden">
                        <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-christmas-red focus:outline-none">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Side Navigation -->
    <div x-show="mobileMenuOpen" class="fixed inset-0 z-50 md:hidden" x-cloak>
        <div class="absolute inset-0 bg-black bg-opacity-50" @click="mobileMenuOpen = false"></div>
        <div class="side-nav absolute top-0 left-0 w-64 h-full bg-white shadow-lg" :class="{ 'open': mobileMenuOpen }">
            <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-gradient-to-br from-christmas-red to-christmas-gold rounded-full flex items-center justify-center text-white font-bold">
                        <i class="fas fa-tree"></i>
                    </div>
                    <span class="ml-2 heading-font font-semibold text-christmas-green">Christmas Party</span>
                </div>
                <button @click="mobileMenuOpen = false" class="text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="py-4">
                <a href="#" class="block py-3 px-6 font-medium transition-colors flex items-center" :class="activeSection === 'home' ? 'text-christmas-red bg-red-50' : 'text-gray-600 hover:text-christmas-red'" @click="mobileMenuOpen = false">
                    <i class="fas fa-home mr-3"></i>Home
                </a>
                <a href="#about-us-page" class="block py-3 px-6 transition-colors flex items-center" :class="activeSection === 'about' ? 'text-christmas-red bg-red-50' : 'text-gray-600 hover:text-christmas-red'" @click="mobileMenuOpen = false">
                    <i class="fas fa-info-circle mr-3"></i>About Us
                </a>
                <a href="#testimonies-page" class="block py-3 px-6 transition-colors flex items-center" :class="activeSection === 'testimonies' ? 'text-christmas-red bg-red-50' : 'text-gray-600 hover:text-christmas-red'" @click="mobileMenuOpen = false">
                    <i class="fas fa-star mr-3"></i>Testimonies
                </a>
                <a href="#announcement-page" class="block py-3 px-6 transition-colors flex items-center" :class="activeSection === 'announcements' ? 'text-christmas-red bg-red-50' : 'text-gray-600 hover:text-christmas-red'" @click="mobileMenuOpen = false">
                    <i class="fas fa-bullhorn mr-3"></i>Announcements
                </a>
                <a href="#counseling-page" class="block py-3 px-6 transition-colors flex items-center" :class="activeSection === 'counseling' ? 'text-christmas-red bg-red-50' : 'text-gray-600 hover:text-christmas-red'" @click="mobileMenuOpen = false">
                    <i class="fas fa-hands-praying mr-3"></i>Counseling
                </a>
                <a href="#join-unit-page" class="block py-3 px-6 transition-colors flex items-center" :class="activeSection === 'units' ? 'text-christmas-red bg-red-50' : 'text-gray-600 hover:text-christmas-red'" @click="mobileMenuOpen = false">
                    <i class="fas fa-users mr-3"></i>Join a Unit
                </a>
                <button @click="showTicketPopup = true; mobileMenuOpen = false" class="w-full mt-4 mx-6 bg-gradient-to-r from-christmas-red to-christmas-gold text-white px-6 py-3 rounded-full font-bold hover:scale-105 transition-transform">
                    <i class="fas fa-ticket-alt mr-2"></i>Get Ticket ‚Ç¶4,000
                </button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="relative h-screen overflow-hidden">
        <div x-data="heroSlider()" class="h-full swipe-area" @touchstart="handleTouchStart" @touchend="handleTouchEnd">
            <!-- Slides -->
            <template x-for="(slide, index) in slides" :key="index">
                <div x-show="currentSlide === index" x-transition:enter="transition ease-out duration-1000" 
                     x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
                     x-transition:leave="transition ease-in duration-1000" 
                     x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
                     class="absolute inset-0 flex items-center justify-center text-white" :class="slide.bg">
                    <div class="text-center px-4 max-w-4xl fade-in">
                        <div class="mb-6">
                            <span class="text-4xl">üéÑ</span>
                            <span class="text-4xl mx-4">üéÅ</span>
                            <span class="text-4xl">üåü</span>
                        </div>
                        <h1 class="heading-font text-4xl md:text-6xl font-bold mb-4" x-text="slide.title"></h1>
                        <p class="text-xl md:text-2xl mb-8 serif-font" x-text="slide.subtitle"></p>
                        <div class="flex flex-col md:flex-row gap-4 justify-center">
                            <a :href="slide.link" class="inline-block bg-white text-christmas-red px-8 py-3 rounded-lg font-semibold text-lg shadow-lg hover:bg-gray-100 transition-colors transform hover:scale-105" x-text="slide.buttonText"></a>
                            <button @click="showTicketPopup = true" class="inline-block bg-gradient-to-r from-christmas-gold to-christmas-red text-white px-8 py-3 rounded-lg font-semibold text-lg shadow-lg hover:scale-105 transition-transform">
                                <i class="fas fa-gift mr-2"></i>Get Christmas Ticket
                            </button>
                        </div>
                        <div class="mt-8">
                            <div class="christmas-ticket inline-block">
                                <div class="text-center">
                                    <p class="text-lg font-bold">üé´ Special Christmas Ticket</p>
                                    <p class="text-3xl font-bold mt-2">‚Ç¶4,000</p>
                                    <p class="text-sm mt-1">Only</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
            
            <!-- Slide Indicators -->
            <div class="absolute bottom-8 left-0 right-0 flex justify-center space-x-2">
                <template x-for="(slide, index) in slides" :key="index">
                    <button @click="currentSlide = index" class="w-3 h-3 rounded-full transition-colors" 
                            :class="currentSlide === index ? 'bg-christmas-gold' : 'bg-white/50'"></button>
                </template>
            </div>
            
            <!-- Navigation Arrows -->
            <button @click="prevSlide" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-3xl bg-black/30 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/50 transition-colors">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button @click="nextSlide" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-3xl bg-black/30 rounded-full w-10 h-10 flex items-center justify-center hover:bg-black/50 transition-colors">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </section>

    <!-- Ticket Popup Ad -->
    <div x-show="showTicketPopup" x-transition class="fixed inset-0 z-[9999]">
        <div class="absolute inset-0 bg-black/70" @click="showTicketPopup = false"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md">
            <div class="christmas-card rounded-2xl overflow-hidden shadow-2xl m-4">
                <div class="popup-header">
                    <h3 class="heading-font text-2xl">üéÖ Christmas Special Offer! üéÑ</h3>
                </div>
                
                <div class="p-6">
                    <div class="text-center mb-6">
                        <div class="w-32 h-32 mx-auto mb-4 rounded-full bg-gradient-to-br from-christmas-red to-christmas-gold flex items-center justify-center text-white text-5xl">
                            <i class="fas fa-gift"></i>
                        </div>
                        <h4 class="text-2xl font-bold text-christmas-green">Get Your Christmas Party Ticket!</h4>
                        <p class="text-gray-600 mt-2">Join us for the most amazing Christmas celebration!</p>
                    </div>
                    
                    <div class="text-center mb-6">
                        <div class="price-tag">
                            <span class="text-2xl">‚Ç¶4,000</span>
                            <span class="text-sm ml-2">Only</span>
                        </div>
                    </div>
                    
                    <div class="space-y-3 mb-6">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-3"></i>
                            <span>Christmas dinner buffet</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-3"></i>
                            <span>Live music & performances</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-3"></i>
                            <span>Free gift pack for everyone</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-3"></i>
                            <span>Christmas photo booth</span>
                        </div>
                    </div>
                    
                    <a href="#tickets-section" @click="showTicketPopup = false" class="block w-full bg-gradient-to-r from-christmas-green to-christmas-red text-white py-3 rounded-lg font-bold text-center hover:scale-105 transition-transform">
                        <i class="fas fa-ticket-alt mr-2"></i>Buy Ticket Now
                    </a>
                    
                    <p class="text-center text-sm text-gray-500 mt-4">
                        Limited tickets available! Prices may increase soon
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Shiloh Preparation Popup -->
    <div x-show="showShilohPopup" x-transition class="fixed inset-0 z-[9999]">
        <div class="absolute inset-0 bg-black/70" @click="showShilohPopup = false"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md">
            <div class="bg-gradient-to-b from-christmas-green to-christmas-red rounded-2xl overflow-hidden shadow-2xl m-4">
                <div class="bg-white/10 backdrop-blur-sm p-6 text-white">
                    <button @click="showShilohPopup = false" class="absolute right-4 top-4 text-white hover:text-christmas-gold">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                    
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-3 bg-white/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-pray text-3xl text-christmas-gold"></i>
                        </div>
                        <h3 class="heading-font text-2xl">Prepare for Shiloh</h3>
                        <p class="text-sm mt-1 opacity-80">7 Steps to Spiritual Preparation</p>
                    </div>
                    
                    <div class="space-y-3 max-h-60 overflow-y-auto pr-2">
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">1</span>
                            <span>Pray daily for guidance and divine direction</span>
                        </div>
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">2</span>
                            <span>Fast regularly to strengthen your spiritual connection</span>
                        </div>
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">3</span>
                            <span>Study the Word of God daily for wisdom</span>
                        </div>
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">4</span>
                            <span>Attend all preparatory meetings and services</span>
                        </div>
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">5</span>
                            <span>Invite friends and family to join the celebration</span>
                        </div>
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">6</span>
                            <span>Prepare your heart through worship and praise</span>
                        </div>
                        <div class="flex items-start bg-white/10 p-3 rounded-lg">
                            <span class="bg-christmas-gold text-christmas-green w-6 h-6 rounded-full flex items-center justify-center mr-3 flex-shrink-0">7</span>
                            <span>Expect miracles and divine encounters this season</span>
                        </div>
                    </div>
                    
                    <button class="w-full bg-christmas-gold text-christmas-green py-3 rounded-lg font-bold mt-6 hover:scale-105 transition-transform">
                        <i class="fas fa-book-bible mr-2"></i>Learn More About Shiloh
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Random Popup Ad -->
    <div x-show="showRandomPopup" x-transition class="christmas-popup" style="display: none;">
        <div class="popup-header">
            <h3 class="heading-font text-xl">üéÅ Christmas Special! üéÑ</h3>
        </div>
        <div class="p-4">
            <div class="h-40 bg-gradient-to-br from-red-50 to-green-50 rounded-lg mb-3 flex items-center justify-center">
                <div class="text-center">
                    <i class="fas fa-tree text-5xl text-christmas-green mb-2"></i>
                    <p class="text-christmas-red font-bold">Christmas Party 2024</p>
                </div>
            </div>
            <p class="text-center text-gray-700 mb-3 font-semibold">Don't miss the Christmas party of the year!</p>
            <p class="text-center text-sm text-gray-600 mb-4">Food, Music, Gifts & Great Company!</p>
            <button @click="showTicketPopup = true; showRandomPopup = false" class="w-full bg-gradient-to-r from-christmas-red to-christmas-green text-white py-2 rounded-lg font-bold hover:scale-105 transition-transform">
                Book Now - ‚Ç¶4,000 Only
            </button>
            <button @click="showRandomPopup = false" class="w-full mt-2 text-gray-500 hover:text-gray-700 text-sm">
                Maybe Later
            </button>
        </div>
    </div>

    <!-- Ticket Section (Added to template) -->
    <section id="tickets-section" class="py-16 bg-gradient-to-b from-christmas-cream to-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="section-header heading-font text-3xl md:text-4xl font-bold text-christmas-green">Christmas Party Tickets</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Secure your spot for the most memorable Christmas celebration!</p>
            </div>
            
            <div class="max-w-lg mx-auto">
                <div class="gift-box bg-white rounded-2xl shadow-xl p-8">
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-christmas-red to-christmas-gold flex items-center justify-center text-white text-3xl">
                            <i class="fas fa-crown"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-christmas-green">VIP Christmas Experience</h3>
                    </div>
                    
                    <div class="text-center mb-6">
                        <p class="text-5xl font-bold text-christmas-red mb-2">‚Ç¶4,000</p>
                        <p class="text-gray-600">One ticket, unlimited fun!</p>
                    </div>
                    
                    <div class="space-y-4 mb-8">
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-check text-green-600"></i>
                            </div>
                            <span>Full access to all party zones</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-check text-green-600"></i>
                            </div>
                            <span>Christmas buffet dinner</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-check text-green-600"></i>
                            </div>
                            <span>Free Christmas gift pack</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-check text-green-600"></i>
                            </div>
                            <span>Live performances & music</span>
                        </div>
                    </div>
                    
                    <button @click="showTicketPopup = true" class="w-full bg-gradient-to-r from-christmas-green to-christmas-red text-white py-4 rounded-xl font-bold text-lg hover:scale-105 transition-transform shadow-lg">
                        <i class="fas fa-shopping-cart mr-2"></i>Get Your Ticket Now
                    </button>
                    
                    <p class="text-center text-sm text-gray-500 mt-4">
                        <i class="fas fa-shield-alt mr-1"></i> Secure payment ‚Ä¢ Instant e-ticket ‚Ä¢ 24/7 support
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Rest of your template sections remain with Christmas styling -->
    <!-- Pastors/Workers Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="section-header heading-font text-3xl md:text-4xl font-bold text-christmas-green">Our Christmas Hosts</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Meet the wonderful people making this Christmas celebration special.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% if leaders %}
                    {% for leader in leaders %}
                        <div class="gift-box bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
                            <div class="h-64 relative">
                                <img src="{{leader.image.url}}" class="object-cover w-full h-full" alt="{{leader.name}}">
                                <div class="absolute top-4 right-4 bg-christmas-red text-white px-3 py-1 rounded-full text-sm">
                                    üéÑ Host
                                </div>
                            </div>
                            <div class="p-6">
                                <h3 class="serif-font text-xl font-bold text-christmas-green mb-2">{{leader.name}}</h3>
                                <p class="text-christmas-red mb-4">{{leader.position}}</p>
                                <p class="text-gray-700">{{leader.description}}</p>
                            </div>
                        </div>
                    {% empty %}
                        <div class="col-span-full text-center">
                            <div class="inline-block p-8 bg-gradient-to-br from-red-50 to-green-50 rounded-2xl">
                                <i class="fas fa-users text-4xl text-christmas-red mb-4"></i>
                                <h2 class="text-2xl text-christmas-green">Our Christmas Team</h2>
                                <p class="text-gray-600 mt-2">Preparing an amazing celebration for you!</p>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Bible Blog Section -->
    <section id="bible-blog-page" class="py-16 bg-gradient-to-b from-red-50 to-green-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="section-header heading-font text-3xl md:text-4xl font-bold text-christmas-green">Christmas Reflections</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Nourish your soul with Christmas scriptures and reflections.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% if bible_post %}
                    {% for post in bible_post %}
                    <div class="gift-box bg-white rounded-xl shadow-md overflow-hidden border border-red-200 relative">
                        <div class="h-48 overflow-hidden">
                            <img src="{{post.image.url}}" class="object-cover w-full h-full object-center" alt="Bible post image">
                            <div class="absolute top-4 left-4 bg-christmas-red text-white px-3 py-1 rounded-full text-sm">
                                ‚ú® Christmas Verse
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="serif-font text-xl font-bold text-christmas-green mb-4">{{post.scriptures}}</h3>
                            <p class="text-gray-700 mb-16">{{post.message}}</p>

                            <div class="flex justify-between absolute bottom-4 w-[88%] items-center mt-4 pt-2 border-t-2 border-gray-300">
                                <!-- Simple Like System -->
                                <div id="like-section-{{post.id}}">
                                    <form hx-post="{% url 'add_like' %}" 
                                          hx-target="#like-section-{{post.id}}"
                                          hx-swap="innerHTML"
                                          class="m-0">
                                        {% csrf_token %}
                                        <input type="hidden" name="post_id" value="{{post.id}}">
                                        <button type="submit" class="like-btn text-gray-400 hover:text-green-700 transition-colors flex items-center space-x-1">
                                            <i class="far fa-heart"></i>
                                            <span>{{post.reviews}}</span>
                                        </button>
                                    </form>
                                </div>

                                <!-- Timestamp -->
                                <div class="text-gray-500 text-sm">
                                    <i class="far fa-clock"></i>
                                    <span>{{post.created_at|date:'M d, Y'}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% empty %}
                        <div class="col-span-full text-center">
                            <div class="inline-block p-8 bg-white rounded-2xl shadow-md">
                                <i class="fas fa-book-bible text-4xl text-christmas-red mb-4"></i>
                                <h2 class="text-2xl text-christmas-green">Christmas Scriptures</h2>
                                <p class="text-gray-600 mt-2">Reflections coming soon!</p>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Important Announcements Section -->
    <section id="announcement-page" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="section-header heading-font text-3xl md:text-4xl font-bold text-christmas-green">Christmas Announcements</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">Stay informed about our Christmas events and celebrations.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                {% if announcement %}
                    {% for item in announcement %}
                        <div class="gift-box bg-white rounded-xl shadow-md overflow-hidden border border-gray-200">
                            <div class="p-6 border-l-4 border-christmas-red">
                                <div class="flex items-center mb-4">
                                    {% if item.image %}
                                    <div class="w-12 h-12 bg-gradient-to-br from-christmas-red to-christmas-gold overflow-hidden rounded-full flex items-center justify-center text-white">
                                        <img src="{{item.image.url}}" class="w-12 h-12 object-cover" alt="Announcement image">
                                    </div>
                                    {% else %}
                                    <div class="w-12 h-12 bg-gradient-to-br from-christmas-red to-christmas-gold rounded-full flex items-center justify-center text-white">
                                        <i class="fas fa-bullhorn"></i>
                                    </div>
                                    {% endif %}
                                    <div class="ml-4">
                                        <h3 class="serif-font text-xl font-bold text-christmas-green">{{item.topic}}</h3>
                                        <p class="text-gray-600">{{item.date|date:'M d, Y'}}</p>
                                    </div>
                                </div>
                                <p class="text-gray-700">{{item.announcement}}</p>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </section>

    <!-- Continue with the rest of your template sections, maintaining the Christmas styling -->

    <!-- Audio Element -->
    <audio id="christmasAudio" loop>
        <source src="{% static 'audio/jingle-bells.mp3' %}" type="audio/mpeg">
        <source src="{% static 'audio/christmas-music.mp3' %}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Create snowflakes
        function createSnowflakes() {
            const snowContainer = document.createElement('div');
            snowContainer.id = 'snowflakes';
            document.body.appendChild(snowContainer);
            
            for (let i = 0; i < 20; i++) { // Reduced quantity
                const snowflake = document.createElement('div');
                snowflake.className = 'snowflake';
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.width = Math.random() * 4 + 1 + 'px';
                snowflake.style.height = snowflake.style.width;
                snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
                snowflake.style.animationDelay = Math.random() * 5 + 's';
                snowflake.style.animationName = 'fall';
                snowflake.style.animationTimingFunction = 'linear';
                snowflake.style.animationIterationCount = 'infinite';
                
                // Add fall animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fall {
                        to {
                            transform: translateY(100vh) rotate(${Math.random() * 360}deg);
                        }
                    }
                `;
                document.head.appendChild(style);
                
                snowContainer.appendChild(snowflake);
            }
        }

        // Hero Slider Functionality
        function heroSlider() {
            return {
                currentSlide: 0,
                touchStartX: 0,
                touchEndX: 0,
                slides: [
                    {% if hero %}
                        {% for slide in hero %}
                        { 
                            bg: 'hero-bg-{{forloop.counter}}', 
                            title: '{{slide.title}}', 
                            subtitle: '{{slide.subtitle}}', 
                            buttonText: '{{slide.btn_text}}', 
                            link: '{{slide.btn_link}}' 
                        },
                        {% endfor %}
                    {% else %}
                        { 
                            bg: 'bg-gradient-to-r from-christmas-green to-christmas-red', 
                            title: 'Christmas Party 2024', 
                            subtitle: 'A Celebration of Joy, Love, and Giving', 
                            buttonText: 'Explore Program',
                            link: '#program'
                        },
                        { 
                            bg: 'bg-gradient-to-r from-christmas-red to-christmas-gold', 
                            title: 'Festive Fun Awaits', 
                            subtitle: 'Join us for an unforgettable Christmas experience', 
                            buttonText: 'View Gallery',
                            link: '#gallery'
                        },
                        { 
                            bg: 'bg-gradient-to-r from-christmas-gold to-christmas-green', 
                            title: 'Spread Christmas Cheer', 
                            subtitle: 'Music, Food, Gifts and Great Company', 
                            buttonText: 'Get Tickets',
                            link: '#tickets-section'
                        }
                    {% endif %}
                ],
                nextSlide() {
                    this.currentSlide = (this.currentSlide + 1) % this.slides.length;
                },
                prevSlide() {
                    this.currentSlide = (this.currentSlide - 1 + this.slides.length) % this.slides.length;
                },
                handleTouchStart(event) {
                    this.touchStartX = event.changedTouches[0].screenX;
                },
                handleTouchEnd(event) {
                    this.touchEndX = event.changedTouches[0].screenX;
                    this.handleSwipe();
                },
                handleSwipe() {
                    const swipeThreshold = 50;
                    const diff = this.touchStartX - this.touchEndX;
                    
                    if (Math.abs(diff) > swipeThreshold) {
                        if (diff > 0) {
                            this.nextSlide();
                        } else {
                            this.prevSlide();
                        }
                    }
                },
                init() {
                    setInterval(() => {
                        this.nextSlide();
                    }, 6000);
                }
            }
        }

        // Random popup ads
        function showRandomPopupAd() {
            const popups = ['ticket', 'shiloh'];
            const randomPopup = popups[Math.floor(Math.random() * popups.length)];
            
            // Show popup every 45-90 seconds
            const randomTime = Math.random() * 45000 + 45000;
            
            setTimeout(() => {
                if (randomPopup === 'ticket') {
                    Alpine.store('showTicketPopup', true);
                } else {
                    Alpine.store('showShilohPopup', true);
                }
                
                // Schedule next popup
                showRandomPopupAd();
            }, randomTime);
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            // Create snowflakes
            createSnowflakes();
            
            // Audio Controls
            const audio = document.getElementById('christmasAudio');
            const playPauseBtn = document.getElementById('playPause');
            
            // Set volume lower for background music
            audio.volume = 0.3;
            
            // Auto-play background music with user interaction
            let audioStarted = false;
            const startAudio = () => {
                if (!audioStarted) {
                    audio.play().catch(e => console.log('Auto-play prevented:', e));
                    audioStarted = true;
                    playPauseBtn.innerHTML = '<i class="fas fa-bell-slash"></i>';
                }
            };
            
            // Start audio on first click
            document.addEventListener('click', startAudio, { once: true });
            
            playPauseBtn.addEventListener('click', function() {
                if (audio.paused) {
                    audio.play();
                    playPauseBtn.innerHTML = '<i class="fas fa-bell-slash"></i>';
                    playPauseBtn.style.animation = 'ringBell 2s ease-in-out infinite';
                } else {
                    audio.pause();
                    playPauseBtn.innerHTML = '<i class="fas fa-bell"></i>';
                    playPauseBtn.style.animation = 'none';
                }
            });
            
            // Start random popup ads
            setTimeout(() => {
                showRandomPopupAd();
            }, 10000); // Start after 10 seconds
            
            // Active section tracking
            function updateActiveSection() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('nav a[href^="#"]');
                
                let currentSection = 'home';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.clientHeight;
                    const sectionId = section.getAttribute('id');
                    
                    if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                        currentSection = sectionId;
                    }
                });
                
                Alpine.store('activeSection', currentSection);
            }
            
            window.addEventListener('scroll', updateActiveSection);
            updateActiveSection(); // Initial call
        });

        // Alpine store for active section
        document.addEventListener('alpine:init', () => {
            Alpine.store('activeSection', 'home');
            Alpine.store('showTicketPopup', false);
            Alpine.store('showShilohPopup', false);
            Alpine.store('showRandomPopup', false);
        });
    </script>

    <!-- Keep your existing HTMX scripts and styles -->
    <style>
        .htmx-request {
            opacity: 0.7;
        }
        
        .htmx-indicator {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .htmx-request .htmx-indicator {
            opacity: 1;
        }
        
        .htmx-request.htmx-indicator {
            opacity: 1;
        }
        
        /* Smooth like animation */
        .like-btn {
            transition: all 0.3s ease;
        }
        
        .like-btn:hover:not(:disabled) {
            transform: scale(1.1);
        }
        
        /* Heart beat animation when liked */
        @keyframes heartBeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.3); }
            50% { transform: scale(1); }
            75% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .like-btn .fas.fa-heart {
            animation: heartBeat 0.6s ease;
        }
        
        /* Disabled state */
        .like-btn:disabled {
            cursor: default;
            opacity: 1;
        }
    </style>

    <script>
        // Add some visual feedback for HTMX requests
        document.addEventListener('DOMContentLoaded', function() {
            // Add loading states to HTMX buttons
            document.body.addEventListener('htmx:beforeRequest', function(evt) {
                const button = evt.target.querySelector('button') || evt.target;
                if (button) {
                    button.classList.add('htmx-request');
                }
            });
            
            document.body.addEventListener('htmx:afterRequest', function(evt) {
                const button = evt.target.querySelector('button') || evt.target;
                if (button) {
                    button.classList.remove('htmx-request');
                }
            });
            
            // Handle HTMX errors gracefully
            document.body.addEventListener('htmx:responseError', function(evt) {
                console.error('HTMX Error:', evt.detail);
                const target = evt.detail.target;
                if (target) {
                    target.innerHTML = '<span class="text-red-500">Error occurred. Please try again.</span>';
                }
            });
        });

        // Simple like functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Handle like form submissions
            document.body.addEventListener('submit', function(e) {
                if (e.target.matches('form[hx-post]')) {
                    e.preventDefault();
                    
                    const form = e.target;
                    const button = form.querySelector('button[type="submit"]');
                    
                    if (button) {
                        // Add loading state
                        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                        button.disabled = true;
                    }
                }
            });
        });
        
        // Initialize HTMX with CSRF token
        document.addEventListener('htmx:configRequest', function(e) {
            const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]');
            if (csrfToken) {
                e.detail.headers['X-CSRFToken'] = csrfToken.value;
            }
        });
    </script>
</body>
</html>